{
  "version": 3,
  "sources": ["../src/index.ts", "../src/devtools.ts"],
  "sourcesContent": ["import type { Options } from '@vitejs/plugin-react';\r\nimport react from '@vitejs/plugin-react';\r\nimport type { Plugin } from 'vite';\r\nimport { reactDevtoolsPlugin } from './devtools';\r\n\r\ntype ReactPresetPlugin = {\r\n  /** Disabled React devtools in production */\r\n  removeDevtoolsInProd?: boolean;\r\n\r\n  /** Inject `React` into every file to not declare `import React from 'react';` everywhere */\r\n  injectReact?: boolean;\r\n\r\n  /** Pass options as-it-is to @vitejs/plugin-react */\r\n  reactPluginOptions?: Options;\r\n};\r\n\r\nexport default function reactPlugin({\r\n  removeDevtoolsInProd = false,\r\n  injectReact = true,\r\n  reactPluginOptions: reactRefreshOptions,\r\n}: ReactPresetPlugin = {}): Plugin[] {\r\n  return [\r\n    // @ts-ignore\r\n    react({ jsxRuntime: injectReact ? 'automatic' : 'classic', ...reactRefreshOptions }),\r\n    reactDevtoolsPlugin({ removeInProd: removeDevtoolsInProd }),\r\n  ];\r\n}\r\n", "import type { Plugin } from 'vite';\r\n\r\nexport interface ReactDevtoolsPluginOptions {\r\n  removeInProd?: boolean;\r\n}\r\n\r\nexport function reactDevtoolsPlugin({\r\n  removeInProd = false,\r\n}: ReactDevtoolsPluginOptions = {}): Plugin {\r\n  const plugin: Plugin = {\r\n    name: 'react:devtools',\r\n\r\n    // Ensure that we resolve before everything else\r\n    enforce: 'pre',\r\n\r\n    // Run only on build\r\n    apply: 'build',\r\n\r\n    transformIndexHtml(code) {\r\n      if (removeInProd) {\r\n        return {\r\n          html: code,\r\n          tags: [\r\n            {\r\n              injectTo: 'body',\r\n              tag: `script`,\r\n              children: `if (typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__ === 'object') { window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject = function () {};};`,\r\n            },\r\n          ],\r\n        };\r\n      }\r\n      return code;\r\n    },\r\n  };\r\n\r\n  return plugin;\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AACA;;;ACKO,6BAA6B;AAAA,EAClC,eAAe;AAAA,IACe,IAAY;AAC1C,QAAM,SAAiB;AAAA,IACrB,MAAM;AAAA,IAGN,SAAS;AAAA,IAGT,OAAO;AAAA,IAEP,mBAAmB,MAAM;AACvB,UAAI,cAAc;AAChB,eAAO;AAAA,UACL,MAAM;AAAA,UACN,MAAM;AAAA,YACJ;AAAA,cACE,UAAU;AAAA,cACV,KAAK;AAAA,cACL,UAAU;AAAA;AAAA;AAAA;AAAA;AAKlB,aAAO;AAAA;AAAA;AAIX,SAAO;AAAA;;;ADnBM,qBAAqB;AAAA,EAClC,uBAAuB;AAAA,EACvB,cAAc;AAAA,EACd,oBAAoB;AAAA,IACC,IAAc;AACnC,SAAO;AAAA,IAEL,MAAM,iBAAE,YAAY,cAAc,cAAc,aAAc;AAAA,IAC9D,oBAAoB,EAAE,cAAc;AAAA;AAAA;",
  "names": []
}
